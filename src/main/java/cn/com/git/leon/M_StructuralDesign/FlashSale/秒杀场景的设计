客户端（用户手机、网站）->发送请求->ngnix->服务器

1、页面点击下单或者购票后 按钮置灰
但直接调用http接口，认证登录token下单校验（app层）
2、ngnix限流(ip限流)
3、服务端做请求队列（或消息队列） 只有部分能到达数据库 剩下的全部返回已售完
通过redis原子操作decr 返回为0的直接返回失败
4、业务上的优化 流量均摊 分时段
5、数据粒度优化 （用户对于具体的数值不需要，例如12306用户只关注有票无票）
6、异步处理：将下单和支付分开
7、缓存